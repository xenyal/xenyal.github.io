!function(t){function i(){universe=g.getContext("2d");for(var t=0;u>t;t++)p[t]=new n,p[t].reset();e()}function e(){universe.clearRect(0,0,a,r);var t=p.length;x.begin();for(var i=0;t>i;i++){var n=p[i];n.move(),n.fadeIn(),n.fadeOut(),n.draw()}window.requestAnimationFrame(e),x.end()}function n(){this.reset=function(){this.giant=s(3),this.comet=this.giant||l?!1:s(20),this.x=h(0,a-10),this.y=h(0,r),this.r=h(1.1,2.6),this.dx=h(m,6*m)+(this.comet+1-1)*m*h(50,120)+2*m,this.dy=-h(m,6*m)-(this.comet+1-1)*m*h(50,120),this.fadingOut=null,this.fadingIn=!0,this.opacity=0,this.opacityTresh=h(.2,1-.4*(this.comet+1-1)),this["do"]=h(5e-4,.002)+.001*(this.comet+1-1)},this.fadeIn=function(){this.fadingIn&&(this.fadingIn=this.opacity>this.opacityTresh?!1:!0,this.opacity+=this["do"])},this.fadeOut=function(){this.fadingOut&&(this.fadingOut=this.opacity<0?!1:!0,this.opacity-=this["do"]/2,(this.x>a||this.y<0)&&(this.fadingOut=!1,this.reset()))},this.draw=function(){if(universe.beginPath(),this.giant)universe.fillStyle="rgba("+y+","+this.opacity+")",universe.arc(this.x,this.y,2,0,2*Math.PI,!1);else if(this.comet){universe.fillStyle="rgba("+w+","+this.opacity+")",universe.arc(this.x,this.y,1.5,0,2*Math.PI,!1);for(var t=0;30>t;t++)universe.fillStyle="rgba("+w+","+(this.opacity-this.opacity/20*t)+")",universe.rect(this.x-this.dx/4*t,this.y-this.dy/4*t-2,2,2),universe.fill()}else universe.fillStyle="rgba("+v+","+this.opacity+")",universe.rect(this.x,this.y,this.r,this.r);universe.closePath(),universe.fill()},this.move=function(){this.x+=this.dx,this.y+=this.dy,this.fadingOut===!1&&this.reset(),(this.x>a-a/4||this.y<0)&&(this.fadingOut=!0)},function(){setTimeout(function(){l=!1},50)}()}function s(t){return Math.floor(1e3*Math.random())+1<10*t}function h(t,i){return Math.random()*(i-t)+t}function o(){a=window.innerWidth,r=window.innerHeight,u=a*f,d=a>r?r/2:a/2,c={x:a/2,y:r/2},g.setAttribute("width",a),g.setAttribute("height",r)}window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var a,r,u,d,c,f=.216,m=.05,l=!0,y="180,184,240",v="226,225,142",w="226,225,224",g=document.getElementById("universe"),p=[],x=new Stats;x.setMode(0),x.domElement.style.position="absolute",x.domElement.style.left="0px",x.domElement.style.top="0px",document.body.appendChild(x.domElement),o(),window.addEventListener("resize",o,!1),i()}(jQuery);